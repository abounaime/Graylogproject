{"version":3,"sources":["webpack:///32.f4e666cd5ae6a3e3cac4.js","webpack:///./src/components/streams/CreateStreamButton.jsx?98e4","webpack:///./src/components/streams/StreamForm.jsx?1299","webpack:///./src/components/UsersAndStreams.css?ad59","webpack:///./src/components/UsersAndStreams.css?6b63*","webpack:///./src/components/common/SelectUsersStreams.jsx","webpack:///./src/pages/UsersAndStreamsPage.jsx","webpack:///delegated ./node_modules/react-addons-linked-state-mixin/index.js from dll-reference __vendor?2324*****"],"names":["webpackJsonp","1057","module","exports","__webpack_require__","_interopRequireDefault","obj","__esModule","default","Object","defineProperty","value","_react","_react2","_reactBootstrap","_StreamForm","_StreamForm2","CreateStreamButton","createClass","displayName","propTypes","buttonText","PropTypes","string","bsStyle","bsSize","className","onSave","func","isRequired","indexSets","array","getDefaultProps","onClick","this","refs","streamForm","open","render","createElement","Button","props","ref","title","onSubmit","1058","_reactAddonsLinkedStateMixin","_reactAddonsLinkedStateMixin2","_BootstrapModalForm","_BootstrapModalForm2","_bootstrap","_common","_CombinedProvider","_CombinedProvider2","_CombinedProvider$get","get","IndexSetsActions","StreamForm","stream","object","mixins","description","remove_matches_from_default_stream","isFavoriteStream","getInitialState","_getValuesFromProps","_resetValues","setState","defaultIndexSetId","index_set_id","length","defaultIndexSet","find","indexSet","id","_onSubmit","state","modal","close","list","_formatSelectOptions","filter","writable","map","label","_onIndexSetSelect","selection","linkState","requestChange","indexSetSelect","Select","placeholder","options","matchProp","onValueChange","Spinner","onSubmitForm","submitButtonText","Input","type","required","name","valueLink","autoFocus","help","checkedLink","1141","push","i","1147","content","locals","1183","_defineProperty","key","enumerable","configurable","_objectWithoutProperties","keys","target","indexOf","prototype","hasOwnProperty","call","_React$createClass","_extends","assign","arguments","source","_reactSelect","_reactSelect2","_reflux","_ActionsProvider","_ActionsProvider2","_StoreProvider","_StoreProvider2","UsersAndStreamsActions","getActions","UsersStore","getStore","size","oneOf","SelectUsersStreams","permission","change","componentDidMount","reactSelectStyles","use","reactSelectSmStyles","componentWillReceiveProps","nextProps","componentWillUnmount","unuse","getValue","componentDidUpdate","clearValue","select","CustomEvent","loadSelectedPermission","console","log","_this","splitsentence","split","load","done","users","permissions","_props","reactSelectProps","onChange","_onChange","1383","_reflux2","_reactRouterBootstrap","_PermissionsMixin","_PermissionsMixin2","_CreateStreamButton","_CreateStreamButton2","_UserNotification","_UserNotification2","_Routes","_Routes2","_UsersAndStreams","_EntityList","_SelectUsersStreams","_SelectUsersStreams2","_SelectStreamsUsers","_SelectStreamsUsers2","StreamsStore","UsersAndStreamsStore","IndexSetsStore","UsersAndStreamsPage","connect","usersName","streamsTitleList","streamsList","streamsUsers","undefined","selectedValuePermission","selectedValueIdStream","loadUsersName","loadStreamsTitleList","loadStreamsList","loadUsers","user","username","idStreamStore","permissionStore","filterById","perm","permissionUser","cpt","idStreams","idStreamsTab","j","loadUsersStreams","_this2","arrayUs","_this3","listStreamsForAllUsers","then","response","toString","_this4","formatSelectedOptions","collection","_this5","item","isPermitted","join","_onSave","_","save","success","streamReadOptions","DocumentTitle","PageHeader","subpage","htmlfor","multi","htmlFor","disabled","IfPermitted","LinkContainer","to","SYSTEM","AUTHENTICATION","USERS","CREATE","968"],"mappings":"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","file":"32.f4e666cd5ae6a3e3cac4.js","sourcesContent":["webpackJsonp([32],{\n\n/***/ 1057:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _react = __webpack_require__(2);\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _reactBootstrap = __webpack_require__(15);\n\nvar _StreamForm = __webpack_require__(1058);\n\nvar _StreamForm2 = _interopRequireDefault(_StreamForm);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar CreateStreamButton = _react2.default.createClass({\n  displayName: 'CreateStreamButton',\n\n  propTypes: {\n    buttonText: _react2.default.PropTypes.string,\n    bsStyle: _react2.default.PropTypes.string,\n    bsSize: _react2.default.PropTypes.string,\n    className: _react2.default.PropTypes.string,\n    onSave: _react2.default.PropTypes.func.isRequired,\n    indexSets: _react2.default.PropTypes.array.isRequired\n  },\n  getDefaultProps: function getDefaultProps() {\n    return {\n      buttonText: 'Create Stream'\n    };\n  },\n  onClick: function onClick() {\n    this.refs.streamForm.open();\n  },\n  render: function render() {\n    return _react2.default.createElement(\n      'span',\n      null,\n      _react2.default.createElement(\n        _reactBootstrap.Button,\n        { bsSize: this.props.bsSize, bsStyle: this.props.bsStyle, className: this.props.className,\n          onClick: this.onClick },\n        this.props.buttonText\n      ),\n      _react2.default.createElement(_StreamForm2.default, { ref: 'streamForm', title: 'Creating Stream', indexSets: this.props.indexSets,\n        onSubmit: this.props.onSave })\n    );\n  }\n});\n\nexports.default = CreateStreamButton;\nmodule.exports = exports['default'];\n\n/***/ }),\n\n/***/ 1058:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _react = __webpack_require__(2);\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _reactAddonsLinkedStateMixin = __webpack_require__(968);\n\nvar _reactAddonsLinkedStateMixin2 = _interopRequireDefault(_reactAddonsLinkedStateMixin);\n\nvar _BootstrapModalForm = __webpack_require__(264);\n\nvar _BootstrapModalForm2 = _interopRequireDefault(_BootstrapModalForm);\n\nvar _bootstrap = __webpack_require__(49);\n\nvar _common = __webpack_require__(48);\n\nvar _CombinedProvider = __webpack_require__(86);\n\nvar _CombinedProvider2 = _interopRequireDefault(_CombinedProvider);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar _CombinedProvider$get = _CombinedProvider2.default.get('IndexSets'),\n    IndexSetsActions = _CombinedProvider$get.IndexSetsActions;\n\nvar StreamForm = _react2.default.createClass({\n  displayName: 'StreamForm',\n\n  propTypes: {\n    onSubmit: _react2.default.PropTypes.func.isRequired,\n    stream: _react2.default.PropTypes.object.isRequired,\n    title: _react2.default.PropTypes.string.isRequired,\n    indexSets: _react2.default.PropTypes.array.isRequired\n  },\n\n  mixins: [_reactAddonsLinkedStateMixin2.default],\n\n  getDefaultProps: function getDefaultProps() {\n    return {\n      stream: {\n        title: '',\n        description: '',\n        remove_matches_from_default_stream: false,\n        isFavoriteStream: true\n      }\n    };\n  },\n  getInitialState: function getInitialState() {\n    return this._getValuesFromProps(this.props);\n  },\n  _resetValues: function _resetValues() {\n    this.setState(this._getValuesFromProps(this.props));\n  },\n  _getValuesFromProps: function _getValuesFromProps(props) {\n    var defaultIndexSetId = props.stream.index_set_id;\n    if (!defaultIndexSetId && props.indexSets && props.indexSets.length > 0) {\n      var defaultIndexSet = props.indexSets.find(function (indexSet) {\n        return indexSet.default;\n      });\n      if (defaultIndexSet) {\n        defaultIndexSetId = defaultIndexSet.id;\n      }\n    }\n\n    return {\n      title: props.stream.title,\n      description: props.stream.description,\n      remove_matches_from_default_stream: props.stream.remove_matches_from_default_stream,\n      isFavoriteStream: props.stream.isFavoriteStream,\n      index_set_id: defaultIndexSetId\n    };\n  },\n  _onSubmit: function _onSubmit() {\n    this.props.onSubmit(this.props.stream.id, {\n      title: this.state.title,\n      description: this.state.description,\n      remove_matches_from_default_stream: this.state.remove_matches_from_default_stream,\n      index_set_id: this.state.index_set_id,\n      isFavoriteStream: this.state.isFavoriteStream\n    });\n    this.refs.modal.close();\n  },\n  open: function open() {\n    this._resetValues();\n    IndexSetsActions.list(false);\n    this.refs.modal.open();\n  },\n  close: function close() {\n    this.refs.modal.close();\n  },\n  _formatSelectOptions: function _formatSelectOptions() {\n    return this.props.indexSets.filter(function (indexSet) {\n      return indexSet.writable;\n    }).map(function (indexSet) {\n      return { value: indexSet.id, label: indexSet.title };\n    });\n  },\n  _onIndexSetSelect: function _onIndexSetSelect(selection) {\n    this.linkState('index_set_id').requestChange(selection);\n  },\n  render: function render() {\n    var indexSetSelect = void 0;\n    if (this.props.indexSets) {\n      indexSetSelect = _react2.default.createElement(\n        'div',\n        { className: 'form-group' },\n        _react2.default.createElement(\n          'label',\n          null,\n          'Index Set'\n        ),\n        _react2.default.createElement(_common.Select, { placeholder: 'Select index set', options: this._formatSelectOptions(), matchProp: 'label',\n          onValueChange: this._onIndexSetSelect, value: this.state.index_set_id }),\n        _react2.default.createElement(\n          'p',\n          { className: 'help-block' },\n          'Messages that match this stream will be written to the configured index set.'\n        )\n      );\n    } else {\n      indexSetSelect = _react2.default.createElement(\n        _common.Spinner,\n        null,\n        'Loading index sets...'\n      );\n    }\n\n    return _react2.default.createElement(\n      _BootstrapModalForm2.default,\n      { ref: 'modal',\n        title: this.props.title,\n        onSubmitForm: this._onSubmit,\n        submitButtonText: 'Save' },\n      _react2.default.createElement(_bootstrap.Input, { type: 'text', required: true, label: 'Title', name: 'Title',\n        placeholder: 'A descriptive name of the new stream',\n        valueLink: this.linkState('title'), autoFocus: true }),\n      _react2.default.createElement(_bootstrap.Input, { type: 'text', required: true, label: 'Description', name: 'Description',\n        placeholder: 'What kind of messages are routed into this stream?',\n        valueLink: this.linkState('description') }),\n      indexSetSelect,\n      _react2.default.createElement(_bootstrap.Input, { type: 'checkbox', label: 'Remove matches from \\'All messages\\' stream', name: 'Remove from All messages',\n        help: _react2.default.createElement(\n          'span',\n          null,\n          'Remove messages that match this stream from the \\'All messages\\' stream which is assigned to every message by default.'\n        ),\n        checkedLink: this.linkState('remove_matches_from_default_stream') }),\n      _react2.default.createElement(_bootstrap.Input, { type: 'checkbox', label: 'Favoris', name: 'isFavoriteStream',\n        help: _react2.default.createElement(\n          'span',\n          null,\n          'Favoris'\n        ),\n        checkedLink: this.linkState('isFavoriteStream') })\n    );\n  }\n});\n\nexports.default = StreamForm;\nmodule.exports = exports['default'];\n\n/***/ }),\n\n/***/ 1141:\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(19)();\n// imports\n\n\n// module\nexports.push([module.i, \".createStreamsCss{position:absolute;top:60px;right:20px}.addUserCss{position:absolute;top:110px;right:20px;width:153px;height:44px;font-size:18px}\", \"\"]);\n\n// exports\n\n\n/***/ }),\n\n/***/ 1147:\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(1141);\nif(typeof content === 'string') content = [[module.i, content, '']];\n// add the styles to the DOM\nvar update = __webpack_require__(20)(content, {});\nif(content.locals) module.exports = content.locals;\n// Hot Module Replacement\nif(false) {\n\t// When the styles change, update the <style> tags\n\tif(!content.locals) {\n\t\tmodule.hot.accept(\"!!../../node_modules/css-loader/index.js!./UsersAndStreams.css\", function() {\n\t\t\tvar newContent = require(\"!!../../node_modules/css-loader/index.js!./UsersAndStreams.css\");\n\t\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\t\t\tupdate(newContent);\n\t\t});\n\t}\n\t// When the module is disposed, remove the <style> tags\n\tmodule.hot.dispose(function() { update(); });\n}\n\n/***/ }),\n\n/***/ 1183:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _React$createClass;\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _react = __webpack_require__(2);\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _reactSelect = __webpack_require__(280);\n\nvar _reactSelect2 = _interopRequireDefault(_reactSelect);\n\nvar _reflux = __webpack_require__(1);\n\nvar _reflux2 = _interopRequireDefault(_reflux);\n\nvar _ActionsProvider = __webpack_require__(7);\n\nvar _ActionsProvider2 = _interopRequireDefault(_ActionsProvider);\n\nvar _StoreProvider = __webpack_require__(18);\n\nvar _StoreProvider2 = _interopRequireDefault(_StoreProvider);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _objectWithoutProperties(obj, keys) { var target = {}; for (var i in obj) { if (keys.indexOf(i) >= 0) continue; if (!Object.prototype.hasOwnProperty.call(obj, i)) continue; target[i] = obj[i]; } return target; }\n\nvar UsersAndStreamsActions = _ActionsProvider2.default.getActions('UsersAndStreams');\nvar UsersStore = _StoreProvider2.default.getStore('Users');\n\n\nvar propTypes = _reactSelect2.default.propTypes;\npropTypes.onValueChange = _react2.default.PropTypes.func;\npropTypes.size = _react2.default.PropTypes.oneOf(['normal', 'small']);\n\nvar SelectUsersStreams = _react2.default.createClass((_React$createClass = {\n  displayName: 'SelectUsersStreams',\n\n  propTypes: propTypes,\n  getDefaultProps: function getDefaultProps() {\n    return {\n      size: 'normal'\n    };\n  },\n  getInitialState: function getInitialState() {\n    return {\n      value: this.props.value,\n      permission: \"\",\n      change: false\n    };\n  },\n  componentDidMount: function componentDidMount() {\n    this.reactSelectStyles.use();\n    this.reactSelectSmStyles.use();\n  },\n  componentWillReceiveProps: function componentWillReceiveProps(nextProps) {\n    if (this.props.value !== nextProps.value) {\n      this.setState({ value: nextProps.value });\n    }\n  },\n  componentWillUnmount: function componentWillUnmount() {\n    this.reactSelectStyles.unuse();\n    this.reactSelectSmStyles.unuse();\n  },\n  getValue: function getValue() {\n    return this.state.value;\n  },\n  componentDidUpdate: function componentDidUpdate() {},\n  clearValue: function clearValue() {\n    // Clear value needs an event, so we just give it one :grumpy:\n    // As someone said: \"This can't do any more harm that we already do\"\n    this.refs.select.clearValue(new CustomEvent('fake'));\n  }\n}, _defineProperty(_React$createClass, 'componentDidUpdate', function componentDidUpdate() {\n  if (this.state.permission && this.state.change) {\n    UsersAndStreamsActions.loadSelectedPermission(this.state.permission);\n    console.log(\"action lancé\" + this.state.permission);\n    this.setState({ change: false });\n  }\n}), _defineProperty(_React$createClass, '_onChange', function _onChange(value) {\n  var _this = this;\n\n  this.setState({\n    permission: \"\"\n  });\n  var splitsentence = value.split(\",\");\n  var length = splitsentence.length;\n  for (var i = 0; i < splitsentence.length; i++) {\n    var promise = UsersStore.load(splitsentence[i]);\n    promise.done(function (users) {\n      _this.setState({\n        permission: _this.state.permission + \",\" + users.permissions,\n        change: true\n      });\n    });\n  }\n  this.setState({ value: value });\n\n  if (this.props.onValueChange) {\n    this.props.onValueChange(value);\n  }\n}), _defineProperty(_React$createClass, 'reactSelectStyles', __webpack_require__(281)), _defineProperty(_React$createClass, 'reactSelectSmStyles', __webpack_require__(282)), _defineProperty(_React$createClass, 'render', function render() {\n  // eslint-disable-next-line no-unused-vars\n  var _props = this.props,\n      onValueChange = _props.onValueChange,\n      size = _props.size,\n      reactSelectProps = _objectWithoutProperties(_props, ['onValueChange', 'size']);\n\n  return _react2.default.createElement(\n    'div',\n    { className: size === 'small' ? 'select-sm' : '' },\n    _react2.default.createElement(_reactSelect2.default, _extends({ ref: 'select', onChange: this._onChange }, reactSelectProps, { value: this.state.value\n\n    }))\n  );\n}), _React$createClass));\n\nexports.default = SelectUsersStreams;\nmodule.exports = exports['default'];\n\n/***/ }),\n\n/***/ 1383:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _react = __webpack_require__(2);\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _reflux = __webpack_require__(1);\n\nvar _reflux2 = _interopRequireDefault(_reflux);\n\nvar _reactBootstrap = __webpack_require__(15);\n\nvar _reactRouterBootstrap = __webpack_require__(958);\n\nvar _PermissionsMixin = __webpack_require__(168);\n\nvar _PermissionsMixin2 = _interopRequireDefault(_PermissionsMixin);\n\nvar _StoreProvider = __webpack_require__(18);\n\nvar _StoreProvider2 = _interopRequireDefault(_StoreProvider);\n\nvar _common = __webpack_require__(48);\n\nvar _CreateStreamButton = __webpack_require__(1057);\n\nvar _CreateStreamButton2 = _interopRequireDefault(_CreateStreamButton);\n\nvar _ActionsProvider = __webpack_require__(7);\n\nvar _ActionsProvider2 = _interopRequireDefault(_ActionsProvider);\n\nvar _UserNotification = __webpack_require__(5);\n\nvar _UserNotification2 = _interopRequireDefault(_UserNotification);\n\nvar _Routes = __webpack_require__(75);\n\nvar _Routes2 = _interopRequireDefault(_Routes);\n\nvar _UsersAndStreams = __webpack_require__(1147);\n\nvar _UsersAndStreams2 = _interopRequireDefault(_UsersAndStreams);\n\nvar _EntityList = __webpack_require__(273);\n\nvar _EntityList2 = _interopRequireDefault(_EntityList);\n\nvar _SelectUsersStreams = __webpack_require__(1183);\n\nvar _SelectUsersStreams2 = _interopRequireDefault(_SelectUsersStreams);\n\nvar _SelectStreamsUsers = __webpack_require__(1068);\n\nvar _SelectStreamsUsers2 = _interopRequireDefault(_SelectStreamsUsers);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar UsersStore = _StoreProvider2.default.getStore('Users');\nvar StreamsStore = _StoreProvider2.default.getStore('Streams');\n\nvar UsersAndStreamsStore = _StoreProvider2.default.getStore('UsersAndStreams');\nvar IndexSetsStore = _StoreProvider2.default.getStore('IndexSets');\nvar IndexSetsActions = _ActionsProvider2.default.getActions('IndexSets');\n\n\nvar UsersAndStreamsPage = _react2.default.createClass({\n  displayName: 'UsersAndStreamsPage',\n\n  mixins: [_reflux2.default.connect(UsersAndStreamsStore), _reflux2.default.connect(IndexSetsStore), _PermissionsMixin2.default],\n  getInitialState: function getInitialState() {\n    return {\n      usersName: [{}],\n      streamsTitleList: [{}],\n      streamsList: [{}],\n      streamsUsers: undefined,\n      selectedValuePermission: undefined,\n      selectedValueIdStream: undefined\n    };\n  },\n  componentDidMount: function componentDidMount() {\n    this.loadUsersName();\n    this.loadStreamsTitleList();\n    this.loadStreamsList();\n  },\n  loadUsersName: function loadUsersName() {\n    var _this = this;\n\n    var promise = UsersStore.loadUsers();\n    promise.done(function (users) {\n      _this.setState({\n        usersName: users.map(function (user) {\n          return { value: user.username, label: user.username };\n        })\n      });\n    });\n  },\n  componentDidUpdate: function componentDidUpdate() {\n    if (this.state.idStreamStore == \"\" && this.state.change) {\n      this.setState({ streamsUsers: \"\" });\n      this.setState({ change: false });\n    }\n    if (this.state.permissionStore == \"\" && this.state.change) {\n      this.setState({ streamsUsers: \"\" });\n      this.setState({ change: false });\n    }\n  },\n  filterById: function filterById(user) {\n    var perm, permissionUser;\n    var cpt = 0;\n\n    for (var i = 0; i < user.permissions.length; i++) {\n\n      if (user.permissions[i].indexOf(\"streams\") >= 0) {\n        perm = user.permissions[i];\n        var idStreams = this.state.idStreamStore;\n        permissionUser = perm.split(\":\");\n        var idStreamsTab = idStreams.split(\",\");\n        for (var j = 0; j < idStreamsTab.length; j++) {\n          console.log(permissionUser);\n          if (permissionUser[permissionUser.length - 1].indexOf(idStreamsTab[j]) >= 0) {\n            ++cpt;\n          }\n        }\n        if (cpt == idStreamsTab.length) return user;\n      }\n    }\n  },\n  loadUsersStreams: function loadUsersStreams() {\n    var _this2 = this;\n\n    var promise = UsersStore.loadUsers();\n    promise.done(function (users) {\n      var arrayUs = users.filter(_this2.filterById);\n      _this2.setState({\n        streamsUsers: arrayUs.map(function (user) {\n          return { value: user.username, label: user.username };\n        })\n      });\n    });\n  },\n  loadStreamsTitleList: function loadStreamsTitleList() {\n    var _this3 = this;\n\n    var listeStreams = StreamsStore.listStreamsForAllUsers().then(function (response) {\n      _this3.setState({\n        streamsTitleList: response.map(function (stream) {\n          return { value: stream.id, label: stream.isFavoriteStream.toString() };\n        })\n      });\n    });\n  },\n  loadStreamsList: function loadStreamsList() {\n    var _this4 = this;\n\n    StreamsStore.listStreamsForAllUsers().then(function (response) {\n      _this4.setState({\n        streamsList: response });\n    });\n  },\n  formatSelectedOptions: function formatSelectedOptions(permissions, permission, collection) {\n    var _this5 = this;\n\n    return collection.filter(function (item) {\n      return _this5.isPermitted(permissions, [permission + ':' + item.id]);\n    }).map(function (item) {\n      return item.title;\n    }).join(',');\n  },\n  _onSave: function _onSave(_, stream) {\n    StreamsStore.save(stream, function () {\n      _UserNotification2.default.success('Stream has been successfully created.', 'Success');\n    });\n  },\n  render: function render() {\n    if (this.state.idStreamStore && this.state.change) {\n      this.loadUsersStreams();\n      this.setState({ change: false });\n    }\n\n    if (this.state.permissionStore) var streamReadOptions = this.formatSelectedOptions(this.state.permissionStore, 'streams:read', this.state.streamsList);\n    return _react2.default.createElement(\n      _common.DocumentTitle,\n      { title: 'Users & Streams' },\n      _react2.default.createElement(\n        'div',\n        null,\n        _react2.default.createElement(\n          'span',\n          null,\n          _react2.default.createElement(\n            _common.PageHeader,\n            { title: 'Users and Streams', subpage: true },\n            _react2.default.createElement(\n              'span',\n              null,\n              'Here is the list of users with their streams availables.'\n            ),\n            null\n          ),\n          _react2.default.createElement(\n            'label',\n            { htmlfor: 'name' },\n            'Type or select an user'\n          ),\n          _react2.default.createElement(_SelectUsersStreams2.default, {\n            name: 'form-field-name',\n            value: '',\n            options: this.state.usersName,\n            multi: true,\n            placeholder: 'Type or select an user'\n          })\n        ),\n        _react2.default.createElement(\n          'label',\n          { htmlFor: 'name' },\n          ' Stream(s) available(s)'\n        ),\n        _react2.default.createElement(_SelectUsersStreams2.default, {\n          placeholder: 'Choose streams read permissions...',\n          value: streamReadOptions,\n          multi: true,\n          disabled: true\n        }),\n        _react2.default.createElement(\n          'label',\n          { htmlfor: 'name' },\n          'Type or select a stream'\n        ),\n        _react2.default.createElement(_SelectStreamsUsers2.default, {\n          name: 'form-field-name',\n          value: '',\n          options: this.state.streamsTitleList,\n          multi: true,\n          placeholder: 'Type or select a stream'\n        }),\n        _react2.default.createElement(\n          'label',\n          { htmlfor: 'name' },\n          ' User(s) who can see the stream'\n        ),\n        _react2.default.createElement(_SelectStreamsUsers2.default, {\n          name: 'form-field-name',\n          value: this.state.streamsUsers,\n          multi: true,\n          placeholder: 'Type or select a stream'\n        }),\n        _react2.default.createElement(\n          _common.IfPermitted,\n          { permissions: 'streams:create' },\n          _react2.default.createElement(_CreateStreamButton2.default, { ref: 'createStreamButton', bsSize: 'large', bsStyle: 'success', onSave: this._onSave,\n            indexSets: this.state.indexSets,\n            className: 'createStreamsCss'\n          })\n        ),\n        _react2.default.createElement(\n          _common.IfPermitted,\n          { permissions: 'users:edit' },\n          _react2.default.createElement(\n            _reactRouterBootstrap.LinkContainer,\n            { to: _Routes2.default.SYSTEM.AUTHENTICATION.USERS.CREATE },\n            _react2.default.createElement(\n              _reactBootstrap.Button,\n              { bsStyle: 'success', className: 'addUserCss' },\n              'Add new user'\n            )\n          )\n        )\n      )\n    );\n  }\n});\n\nexports.default = UsersAndStreamsPage;\nmodule.exports = exports['default'];\n\n/***/ }),\n\n/***/ 968:\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = (__webpack_require__(10))(336);\n\n/***/ })\n\n});\n\n\n// WEBPACK FOOTER //\n// 32.f4e666cd5ae6a3e3cac4.js","import React from 'react';\nimport { Button } from 'react-bootstrap';\nimport StreamForm from 'components/streams/StreamForm';\n\nconst CreateStreamButton = React.createClass({\n  propTypes: {\n    buttonText: React.PropTypes.string,\n    bsStyle: React.PropTypes.string,\n    bsSize: React.PropTypes.string,\n    className: React.PropTypes.string,\n    onSave: React.PropTypes.func.isRequired,\n    indexSets: React.PropTypes.array.isRequired,\n  },\n  getDefaultProps() {\n    return {\n      buttonText: 'Create Stream',\n    };\n  },\n  onClick() {\n    this.refs.streamForm.open();\n  },\n  render() {\n    return (\n      <span>\n        <Button bsSize={this.props.bsSize} bsStyle={this.props.bsStyle} className={this.props.className}\n                onClick={this.onClick}>\n          {this.props.buttonText}\n        </Button>\n        <StreamForm ref=\"streamForm\" title=\"Creating Stream\" indexSets={this.props.indexSets}\n                    onSubmit={this.props.onSave} />\n      </span>\n    );\n  },\n});\n\nexport default CreateStreamButton;\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/streams/CreateStreamButton.jsx","import React from 'react';\nimport LinkedStateMixin from 'react-addons-linked-state-mixin';\nimport BootstrapModalForm from 'components/bootstrap/BootstrapModalForm';\nimport { Input } from 'components/bootstrap';\nimport { Select, Spinner } from 'components/common';\nimport CombinedProvider from 'injection/CombinedProvider';\n\nconst { IndexSetsActions } = CombinedProvider.get('IndexSets');\n\nconst StreamForm = React.createClass({\n  propTypes: {\n    onSubmit: React.PropTypes.func.isRequired,\n    stream: React.PropTypes.object.isRequired,\n    title: React.PropTypes.string.isRequired,\n    indexSets: React.PropTypes.array.isRequired,\n  },\n\n  mixins: [LinkedStateMixin],\n\n  getDefaultProps() {\n    return {\n      stream: {\n        title: '',\n        description: '',\n        remove_matches_from_default_stream: false,\n        isFavoriteStream: true\n      },\n    };\n  },\n\n  getInitialState() {\n    return this._getValuesFromProps(this.props);\n  },\n\n  _resetValues() {\n    this.setState(this._getValuesFromProps(this.props));\n  },\n\n  _getValuesFromProps(props) {\n    let defaultIndexSetId = props.stream.index_set_id;\n    if (!defaultIndexSetId && props.indexSets && props.indexSets.length > 0) {\n      const defaultIndexSet = props.indexSets.find(indexSet => indexSet.default);\n      if (defaultIndexSet) {\n        defaultIndexSetId = defaultIndexSet.id;\n      }\n    }\n\n    return {\n      title: props.stream.title,\n      description: props.stream.description,\n      remove_matches_from_default_stream: props.stream.remove_matches_from_default_stream,\n      isFavoriteStream:props.stream.isFavoriteStream,\n      index_set_id: defaultIndexSetId,\n    };\n  },\n\n  _onSubmit() {\n    this.props.onSubmit(this.props.stream.id,\n      {\n        title: this.state.title,\n        description: this.state.description,\n        remove_matches_from_default_stream: this.state.remove_matches_from_default_stream,\n        index_set_id: this.state.index_set_id,\n        isFavoriteStream:this.state.isFavoriteStream,\n      });\n    this.refs.modal.close();\n  },\n\n  open() {\n    this._resetValues();\n    IndexSetsActions.list(false);\n    this.refs.modal.open();\n  },\n\n  close() {\n    this.refs.modal.close();\n  },\n\n  _formatSelectOptions() {\n    return this.props.indexSets.filter(indexSet => indexSet.writable).map((indexSet) => {\n      return { value: indexSet.id, label: indexSet.title };\n    });\n  },\n\n  _onIndexSetSelect(selection) {\n    this.linkState('index_set_id').requestChange(selection);\n  },\n\n  render() {\n    let indexSetSelect;\n    if (this.props.indexSets) {\n      indexSetSelect = (\n        <div className=\"form-group\">\n          <label>Index Set</label>\n          <Select placeholder=\"Select index set\" options={this._formatSelectOptions()} matchProp=\"label\"\n                  onValueChange={this._onIndexSetSelect} value={this.state.index_set_id} />\n          <p className=\"help-block\">Messages that match this stream will be written to the configured index set.</p>\n        </div>\n      );\n    } else {\n      indexSetSelect = <Spinner>Loading index sets...</Spinner>;\n    }\n\n    return (\n      <BootstrapModalForm ref=\"modal\"\n                          title={this.props.title}\n                          onSubmitForm={this._onSubmit}\n                          submitButtonText=\"Save\">\n        <Input type=\"text\" required label=\"Title\" name=\"Title\"\n               placeholder=\"A descriptive name of the new stream\"\n               valueLink={this.linkState('title')} autoFocus />\n        <Input type=\"text\" required label=\"Description\" name=\"Description\"\n               placeholder=\"What kind of messages are routed into this stream?\"\n               valueLink={this.linkState('description')} />\n        {indexSetSelect}\n        <Input type=\"checkbox\" label=\"Remove matches from 'All messages' stream\" name=\"Remove from All messages\"\n               help={<span>Remove messages that match this stream from the 'All messages' stream which is assigned to every message by default.</span>}\n               checkedLink={this.linkState('remove_matches_from_default_stream')} />\n\n        <Input type=\"checkbox\" label=\"Favoris\" name=\"isFavoriteStream\"\n               help={<span>Favoris</span>}\n               checkedLink={this.linkState('isFavoriteStream')} />\n      </BootstrapModalForm>\n    );\n  },\n});\n\nexport default StreamForm;\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/streams/StreamForm.jsx","exports = module.exports = require(\"../../node_modules/css-loader/lib/css-base.js\")();\n// imports\n\n\n// module\nexports.push([module.id, \".createStreamsCss{position:absolute;top:60px;right:20px}.addUserCss{position:absolute;top:110px;right:20px;width:153px;height:44px;font-size:18px}\", \"\"]);\n\n// exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/css-loader!./src/components/UsersAndStreams.css\n// module id = 1141\n// module chunks = 15 32","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../node_modules/css-loader/index.js!./UsersAndStreams.css\");\nif(typeof content === 'string') content = [[module.id, content, '']];\n// add the styles to the DOM\nvar update = require(\"!../../node_modules/style-loader/addStyles.js\")(content, {});\nif(content.locals) module.exports = content.locals;\n// Hot Module Replacement\nif(module.hot) {\n\t// When the styles change, update the <style> tags\n\tif(!content.locals) {\n\t\tmodule.hot.accept(\"!!../../node_modules/css-loader/index.js!./UsersAndStreams.css\", function() {\n\t\t\tvar newContent = require(\"!!../../node_modules/css-loader/index.js!./UsersAndStreams.css\");\n\t\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\t\t\tupdate(newContent);\n\t\t});\n\t}\n\t// When the module is disposed, remove the <style> tags\n\tmodule.hot.dispose(function() { update(); });\n}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/UsersAndStreams.css\n// module id = 1147\n// module chunks = 15 32","import React from 'react';\nimport ReactSelect from 'react-select';\nimport Reflux from 'reflux';\nimport ActionsProvider from 'injection/ActionsProvider';\nconst UsersAndStreamsActions = ActionsProvider.getActions('UsersAndStreams');\nconst UsersStore = StoreProvider.getStore('Users');\nimport StoreProvider from 'injection/StoreProvider';\n\n\nconst propTypes = ReactSelect.propTypes;\npropTypes.onValueChange = React.PropTypes.func;\npropTypes.size = React.PropTypes.oneOf(['normal', 'small']);\n\nconst SelectUsersStreams = React.createClass({\n  propTypes: propTypes,\n  getDefaultProps() {\n    return {\n      size: 'normal',\n    };\n  },\n  getInitialState() {\n    return {\n      value: this.props.value,\n      permission: \"\",\n      change : false\n    };\n  },\n  componentDidMount() {\n    this.reactSelectStyles.use();\n    this.reactSelectSmStyles.use();\n  },\n  componentWillReceiveProps(nextProps) {\n    if (this.props.value !== nextProps.value) {\n      this.setState({ value: nextProps.value });\n    }\n  },\n  componentWillUnmount() {\n    this.reactSelectStyles.unuse();\n    this.reactSelectSmStyles.unuse();\n  },\n  getValue() {\n    return this.state.value;\n  },\n  componentDidUpdate(){\n\n  },\n  clearValue() {\n    // Clear value needs an event, so we just give it one :grumpy:\n    // As someone said: \"This can't do any more harm that we already do\"\n    this.refs.select.clearValue(new CustomEvent('fake'));\n  },\n  componentDidUpdate(){\n    if (this.state.permission && this.state.change) {\n      UsersAndStreamsActions.loadSelectedPermission(this.state.permission);\n      console.log(\"action lancé\"+this.state.permission)\n      this.setState({ change : false})\n    }\n  },\n  _onChange(value) {\n    this.setState({\n      permission: \"\"\n    })\n    var splitsentence = value.split(\",\");\n    var length= splitsentence.length\n    for(var i=0;i<splitsentence.length;i++) {\n      const promise = UsersStore.load(splitsentence[i])\n      promise.done((users) => {\n        this.setState({\n          permission: this.state.permission + \",\" + users.permissions,\n          change : true\n        });\n      });\n    }\n    this.setState({value: value});\n\n    if (this.props.onValueChange) {\n      this.props.onValueChange(value);\n    }\n  },\n  reactSelectStyles: require('!style/useable!css!react-select/dist/default.css'),\n  reactSelectSmStyles: require('!style/useable!css!./Select.css'),\n  render() {\n    // eslint-disable-next-line no-unused-vars\n    const { onValueChange, size, ...reactSelectProps } = this.props;\n\n    return (\n      <div className={size === 'small' ? 'select-sm' : ''}>\n        <ReactSelect ref=\"select\" onChange={this._onChange} {...reactSelectProps} value={this.state.value}\n\n        />\n      </div>\n    );\n\n  },\n});\n\nexport default SelectUsersStreams;\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/common/SelectUsersStreams.jsx","import React from 'react';\nimport Reflux from 'reflux';\nimport { Row, Col, Button } from 'react-bootstrap';\nimport { LinkContainer } from 'react-router-bootstrap';\nimport PermissionsMixin from 'util/PermissionsMixin';\nimport StoreProvider from 'injection/StoreProvider';\nimport { DocumentTitle, IfPermitted, PageHeader } from 'components/common';\nconst UsersStore = StoreProvider.getStore('Users');\nconst StreamsStore = StoreProvider.getStore('Streams');\nimport CreateStreamButton from 'components/streams/CreateStreamButton';\nimport ActionsProvider from 'injection/ActionsProvider';\nimport UserNotification from 'util/UserNotification';\nimport Routes from 'routing/Routes';\nimport ss from 'components/UsersAndStreams.css'\nconst UsersAndStreamsStore = StoreProvider.getStore('UsersAndStreams');\nconst IndexSetsStore = StoreProvider.getStore('IndexSets');\nconst IndexSetsActions = ActionsProvider.getActions('IndexSets');\nimport EntityList from 'components/common/EntityList.jsx';\nimport SelectUsersStreams from 'components/common/SelectUsersStreams.jsx';\nimport SelectStreamsUsers from 'components/common/SelectStreamsUsers.jsx';\n\nconst UsersAndStreamsPage = React.createClass({\n  mixins: [Reflux.connect(UsersAndStreamsStore), Reflux.connect(IndexSetsStore),PermissionsMixin],\n  getInitialState() {\n    return {\n      usersName: [{}],\n      streamsTitleList:  [{}],\n      streamsList: [{}],\n      streamsUsers: undefined,\n      selectedValuePermission: undefined,\n      selectedValueIdStream: undefined\n    };\n  },\n  componentDidMount() {\n    this.loadUsersName();\n    this.loadStreamsTitleList();\n    this.loadStreamsList();\n\n  },\n  loadUsersName() {\n    const promise = UsersStore.loadUsers();\n    promise.done((users) => {\n      this.setState({\n        usersName: users.map(function (user) {\n          return { value : user.username , label : user.username }\n        }),\n      });\n    });\n  },\n  componentDidUpdate(){\n    if(this.state.idStreamStore == \"\" && this.state.change)\n    {\n      this.setState({streamsUsers : \"\"})\n      this.setState({change : false})\n    }\n    if(this.state.permissionStore == \"\" && this.state.change)\n    {\n      this.setState({streamsUsers : \"\"})\n      this.setState({change : false})\n    }\n  },\n  filterById(user){\n    var perm,permissionUser\n    var cpt=0\n\n    for(var i=0;i<user.permissions.length;i++){\n\n      if(user.permissions[i].indexOf(\"streams\")>=0 ) {\n        perm = user.permissions[i]\n        var idStreams = this.state.idStreamStore\n        permissionUser = perm.split(\":\");\n        var idStreamsTab = idStreams.split(\",\")\n        for (var j=0; j < idStreamsTab.length; j++) {\n          console.log(permissionUser);\n          if (permissionUser[permissionUser.length-1].indexOf(idStreamsTab[j]) >= 0) {\n           ++cpt\n        }\n      }\n        if(cpt==idStreamsTab.length)\n        return user\n          }\n    }\n\n  },\n  loadUsersStreams() {\n      const promise = UsersStore.loadUsers();\n      promise.done((users) => {\n        var arrayUs=users.filter(this.filterById)\n          this.setState({\n             streamsUsers: arrayUs.map(function (user) {\n               return {value: user.username, label: user.username}\n           }),\n         });\n      });\n  },\n  loadStreamsTitleList() {\n    var listeStreams=StreamsStore.listStreamsForAllUsers().then((response) => {\n      this.setState({\n        streamsTitleList: response.map(function (stream) {\n          return { value : stream.id , label : stream.isFavoriteStream.toString() }\n        })\n      });\n    });\n  },\n  loadStreamsList() {\n    StreamsStore.listStreamsForAllUsers().then((response) => {\n      this.setState({\n        streamsList: response });\n    });\n  },\n\n  formatSelectedOptions(permissions, permission, collection) {\n    return collection\n      .filter(item => this.isPermitted(permissions, [`${permission}:${item.id}`]))\n      .map(item => item.title)\n      .join(',');\n  },\n\n  _onSave(_, stream) {\n    StreamsStore.save(stream, () => {\n      UserNotification.success('Stream has been successfully created.', 'Success');\n    });\n  },\n\n  render() {\n    if(this.state.idStreamStore && this.state.change) {\n      this.loadUsersStreams()\n      this.setState({change : false})\n    }\n\n    if(this.state.permissionStore)\n    var streamReadOptions = this.formatSelectedOptions\n    (this.state.permissionStore, 'streams:read', this.state.streamsList);\n    return (\n      <DocumentTitle title=\"Users & Streams\">\n      <div>\n        <span>\n          <PageHeader title=\"Users and Streams\" subpage>\n            <span>Here is the list of users with their streams availables.</span>\n            {null}\n          </PageHeader>\n           <label htmlfor=\"name\">Type or select an user</label>\n            <SelectUsersStreams\n             name=\"form-field-name\"\n             value=\"\"\n             options={this.state.usersName}\n             multi ={true}\n             placeholder= \"Type or select an user\"\n            />\n  </span>\n        <label htmlFor=\"name\"> Stream(s) available(s)</label>\n\n        <SelectUsersStreams\n                placeholder=\"Choose streams read permissions...\"\n                value={streamReadOptions}\n                multi ={true}\n                disabled={true}\n        />\n        <label htmlfor=\"name\">Type or select a stream</label>\n\n        <SelectStreamsUsers\n          name=\"form-field-name\"\n          value=\"\"\n          options={this.state.streamsTitleList}\n          multi ={true}\n          placeholder= \"Type or select a stream\"\n        />\n        <label htmlfor=\"name\"> User(s) who can see the stream</label>\n\n        <SelectStreamsUsers\n          name=\"form-field-name\"\n          value={this.state.streamsUsers}\n          multi ={true}\n          placeholder= \"Type or select a stream\"\n        />\n\n        <IfPermitted permissions=\"streams:create\">\n          <CreateStreamButton   ref=\"createStreamButton\" bsSize=\"large\" bsStyle=\"success\" onSave={this._onSave}\n                              indexSets={this.state.indexSets}\n                                className=\"createStreamsCss\"\n                              />\n        </IfPermitted>\n        <IfPermitted permissions=\"users:edit\">\n          <LinkContainer to={Routes.SYSTEM.AUTHENTICATION.USERS.CREATE}>\n            <Button bsStyle=\"success\" className=\"addUserCss\">Add new user</Button>\n          </LinkContainer>\n        </IfPermitted>\n      </div>\n      </DocumentTitle>\n    );\n  },\n\n});\n\nexport default UsersAndStreamsPage;\n\n\n\n\n\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/UsersAndStreamsPage.jsx","module.exports = (__webpack_require__(10))(336);\n\n\n//////////////////\n// WEBPACK FOOTER\n// delegated ./node_modules/react-addons-linked-state-mixin/index.js from dll-reference __vendor\n// module id = 968\n// module chunks = 14 15 20 21 23 26 32"],"sourceRoot":""}